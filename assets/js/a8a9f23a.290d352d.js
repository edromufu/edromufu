"use strict";(self.webpackChunkedrom=self.webpackChunkedrom||[]).push([[3442],{5680:(e,o,r)=>{r.d(o,{xA:()=>p,yg:()=>g});var a=r(6540);function t(e,o,r){return o in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}function n(e,o){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?n(Object(r),!0).forEach((function(o){t(e,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))}))}return e}function s(e,o){if(null==e)return{};var r,a,t=function(e,o){if(null==e)return{};var r,a,t={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],o.indexOf(r)>=0||(t[r]=e[r]);return t}(e,o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],o.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var d=a.createContext({}),u=function(e){var o=a.useContext(d),r=o;return e&&(r="function"==typeof e?e(o):i(i({},o),e)),r},p=function(e){var o=u(e.components);return a.createElement(d.Provider,{value:o},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var o=e.children;return a.createElement(a.Fragment,{},o)}},l=a.forwardRef((function(e,o){var r=e.components,t=e.mdxType,n=e.originalType,d=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=u(r),l=t,g=m["".concat(d,".").concat(l)]||m[l]||c[l]||n;return r?a.createElement(g,i(i({ref:o},p),{},{components:r})):a.createElement(g,i({ref:o},p))}));function g(e,o){var r=arguments,t=o&&o.mdxType;if("string"==typeof e||t){var n=r.length,i=new Array(n);i[0]=l;var s={};for(var d in o)hasOwnProperty.call(o,d)&&(s[d]=o[d]);s.originalType=e,s[m]="string"==typeof e?e:t,i[1]=s;for(var u=2;u<n;u++)i[u]=r[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}l.displayName="MDXCreateElement"},3461:(e,o,r)=>{r.r(o),r.d(o,{assets:()=>d,contentTitle:()=>i,default:()=>c,frontMatter:()=>n,metadata:()=>s,toc:()=>u});var a=r(8168),t=(r(6540),r(5680));const n={id:"mapeamento",title:"\xc1rvore de Arquivos",description:"Nesta se\xe7\xe3o conseguimos vemos a estrutura dos pacotes da vis\xe3o",slug:"/mapeamento-visao",sidebar_position:4},i=void 0,s={unversionedId:"vision/training/mapeamento",id:"vision/training/mapeamento",title:"\xc1rvore de Arquivos",description:"Nesta se\xe7\xe3o conseguimos vemos a estrutura dos pacotes da vis\xe3o",source:"@site/docs/vision/training/mapeamento.md",sourceDirName:"vision/training",slug:"/mapeamento-visao",permalink:"/edromufu/docs/mapeamento-visao",draft:!1,editUrl:"https://github.com/edromufu/edromufu/tree/master/edrom-docs/docs/vision/training/mapeamento.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"mapeamento",title:"\xc1rvore de Arquivos",description:"Nesta se\xe7\xe3o conseguimos vemos a estrutura dos pacotes da vis\xe3o",slug:"/mapeamento-visao",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Dividir os v\xeddeos em frames",permalink:"/edromufu/docs/spliting_video_in_frames"},next:{title:"Separar os frames",permalink:"/edromufu/docs/organizing_dataset"}},d={},u=[{value:"Vision_msgs",id:"vision_msgs",level:2},{value:"Robocup_cnn_files",id:"robocup_cnn_files",level:2},{value:"Robocup_videos",id:"robocup_videos",level:2},{value:"Object_finder",id:"object_finder",level:2}],p={toc:u},m="wrapper";function c(e){let{components:o,...r}=e;return(0,t.yg)(m,(0,a.A)({},p,r,{components:o,mdxType:"MDXLayout"}),(0,t.yg)("p",null,"A pasta da ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/edromufu/edromufu/tree/master/src/vision"},"Vis\xe3o")," fica dentro da src do reposit\xf3rio, e dentro dela fica todo o escopo do projeto que compete \xe0 vis\xe3o. Os arquivos da \xe1rea s\xe3o separados em quatro pastas:"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"https://github.com/edromufu/edromufu/tree/master/src/vision/vision_msgs"},"Vision_msgs")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"https://github.com/edromufu/edromufu/tree/vision/YOLOv8/src/vision/robocup_cnn_files"},"Robocup_cnn_files")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"https://github.com/edromufu/edromufu/tree/master/src/vision/robocup_videos"},"Robocup_videos")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"https://github.com/edromufu/edromufu/tree/vision/YOLOv8/src/vision/object_finder"},"Object_finder"))),(0,t.yg)("h2",{id:"vision_msgs"},"Vision_msgs"),(0,t.yg)("p",null,"Como o projeto utiliza ",(0,t.yg)("a",{parentName:"p",href:"https://www.ros.org/"},"ROS2")," para comunica\xe7\xe3o, faz-se necess\xe1rio definir as mensagens que ser\xe3o enviadas e recebidas pelos c\xf3digos. Nessa pasta, ficam as mensagens utilizadas na Vis\xe3o."),(0,t.yg)("h2",{id:"robocup_cnn_files"},"Robocup_cnn_files"),(0,t.yg)("p",null,"O resultado do treinamento da rede neural \xe9 um arquivo: ",(0,t.yg)("strong",{parentName:"p"},"yolov8n-vision.pt"),". Esse arquivo possui os par\xe2metros que ser\xe3o utilizados na infer\xeancia das imagens, e dentro dessa pasta ele \xe9 salvo, juntamente com backups de treinamentos antigos que funcionaram bem."),(0,t.yg)("h2",{id:"robocup_videos"},"Robocup_videos"),(0,t.yg)("p",null,"Para prepara o dataset para o treinamento, \xe9 necess\xe1rio realizar uma s\xe9rie de processos, melhores detalhados ",(0,t.yg)("a",{parentName:"p",href:"./training/introducao.md"},"aqui"),". Para facilitar a cria\xe7\xe3o desse dataset, foram desenvolvidos scripts auxiliares. Esses scripts s\xe3o armazenados nessa pasta. Os scripts s\xe3o os seguintes:"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"recording_from_camera.py"),": Utilizado para gravar v\xeddeos com a c\xe2mera (ou webcam)"),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"spliting_video_in_frames.py"),": Utilizado para dividir os v\xeddeos gravados em frames"),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"organizing_dataset.py"),": Utilizado para dividir os frames de acordo com seu prop\xf3sito (treinamento, valida\xe7\xe3o e avalia\xe7\xe3o)")),(0,t.yg)("p",null,"Para evitar que o reposit\xf3rio fique carregado com arquivos desnecess\xe1rios, recomenda-se que os scripts sejam copiados para outro local, e executados l\xe1, de forma que os arquivos gerados (v\xeddeos, frames ou txts) fiquem neste outro local, para depois serem enviados ao drive para treinamento."),(0,t.yg)("h2",{id:"object_finder"},"Object_finder"),(0,t.yg)("p",null,"Por fim, a object_finder onde efetivamente acontece a Vis\xe3o do projeto. Desde capturar as imagens, at\xe9 enviar os resultados da infer\xeancia ao restante do projeto."),(0,t.yg)("p",null,"Dentro da src desse diret\xf3rio, temos dois arquivos principais. Estes s\xe3o ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/edromufu/edromufu/blob/master/src/vision/object_finder/object_finder/connecting_and_showing.py"},"connecting_and_showing.py")," e ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/edromufu/edromufu/blob/master/src/vision/object_finder/object_finder/running_inference.py"},"running_inference.py"),"."),(0,t.yg)("p",null,"O primeiro conecta \xe0 c\xe2mera utilizada, obt\xe9m as imagens, realiza a chamada da infer\xeancia, que \xe9 realizada no ",(0,t.yg)("strong",{parentName:"p"},"running_inference.py"),", sobre as imagens e mostra (opcionalmente) o resultado em tempo real da interpreta\xe7\xe3o da rede neural, al\xe9m de enviar o resultado por ",(0,t.yg)("strong",{parentName:"p"},"ROS")," ao restante do projeto."),(0,t.yg)("p",null,"O segundo \xe9 onde acontece a interpreta\xe7\xe3o das imagens, seguindo os arquivos gerados no treinamento da rede neural. Nele tamb\xe9m est\xe1 a fun\xe7\xe3o que mostra (opcionalmente) o resultado da infer\xeancia desenhando um ret\xe2ngulo no frame antes de retorn\xe1-lo ao c\xf3digo anterior."))}c.isMDXComponent=!0}}]);